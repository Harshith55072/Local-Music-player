<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>Playlists</h2>
                <div style="display: flex; gap: 8px;">
                    <button class="add-playlist-btn" onclick="openFolderUpload()" title="Load from Folder">üìÅ</button>
                    <button class="add-playlist-btn" onclick="openPlaylistModal()" title="Create Playlist">+</button>
                </div>
            </div>
            <div id="playlists"></div>
        </div>

        <!-- Main Player -->
        <div class="main-player">
            <div class="album-art">‚ô™</div>
            
            <div class="song-info">
                <div class="current-title" id="currentTitle">Select a Song</div>
                <div class="current-artist" id="currentArtist">Unknown Artist</div>
            </div>

            <div class="progress-container">
                <div class="progress-bar" onclick="seek(event)">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="time-info">
                    <span id="currentTime">0:00</span>
                    <span id="duration">0:00</span>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn" onclick="previousSong()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                    </svg>
                </button>
                <button class="control-btn play-btn" id="playBtn" onclick="togglePlay()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" id="playIcon">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                </button>
                <button class="control-btn" onclick="nextSong()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 18h2V6h-2zm-11-7l8.5-6v12z"/>
                    </svg>
                </button>
            </div>

            <div class="volume-control">
                <span class="volume-icon" onclick="toggleMute()" id="volumeIcon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                    </svg>
                </span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70" oninput="changeVolume(this.value)">
            </div>
        </div>
    </div>

    <!-- Create Playlist Modal -->
    <div class="modal" id="playlistModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Playlist</h3>
                <button class="close-btn" onclick="closePlaylistModal()">√ó</button>
            </div>
            <div class="modal-body">
                <input type="text" id="playlistNameInput" placeholder="Enter playlist name..." class="modal-input">
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel-btn" onclick="closePlaylistModal()">Cancel</button>
                <button class="modal-btn create-btn" onclick="createPlaylist()">Create</button>
            </div>
        </div>
    </div>

    <!-- Add Songs Modal -->
    <div class="modal" id="addSongsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Songs to Playlist</h3>
                <button class="close-btn" onclick="closeAddSongsModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="file-upload-area" onclick="handleFileSelect(event)">
                    <div class="upload-icon">üìÅ</div>
                    <p>Click to select audio files</p>
                    <small>Support MP3, WAV, OGG, M4A, FLAC</small>
                </div>
                <div id="selectedFiles"></div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel-btn" onclick="closeAddSongsModal()">Cancel</button>
                <button class="modal-btn create-btn" onclick="addSongsToPlaylist()">Add Songs</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteModal">
        <div class="modal-content delete-modal">
            <div class="modal-header">
                <h3 id="deleteModalTitle">Delete Item?</h3>
                <button class="close-btn" onclick="closeDeleteModal()">√ó</button>
            </div>
            <div class="modal-body">
                <p id="deleteModalMessage" class="delete-message">Are you sure you want to delete this item?</p>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel-btn" onclick="closeDeleteModal()">Cancel</button>
                <button class="modal-btn delete-confirm-btn" onclick="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>

    <audio id="audioPlayer"></audio>

    <script src="script.js"></script>
</body>
</html>